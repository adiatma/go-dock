{"version":3,"sources":["utils.js","../node_modules/reactstrap/es/Table.js","../node_modules/reactstrap/es/Badge.js","pages/Images.js"],"names":["formatBytes","bytes","decimals","dm","i","Math","floor","log","parseFloat","pow","toFixed","propTypes","className","string","cssModule","object","size","bordered","bool","borderless","striped","dark","hover","responsive","oneOfType","tag","responsiveTag","innerRef","func","Table","props","Tag","ResponsiveTag","attributes","classes","table","createElement","ref","responsiveClassName","defaultProps","color","pill","children","node","Badge","href","Images","dispatch","useStoreDispatch","state","useStoreState","images","defaultState","React","getImages","loading","style","width","height","ImageTable","map","image","key","Id","ImageRepoTags","repoTags","RepoTags","Date","Created","toDateString","Size","VirtualSize","splitingRepoByTags","split","imageName","tags"],"mappings":"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","file":"static/js/3.55fb9b4b.chunk.js","sourcesContent":["// @see https://stackoverflow.com/questions/15900485/correct-way-to-convert-size-in-bytes-to-kb-mb-gb-in-javascript\nexport default function formatBytes(bytes, decimals = 2) {\n  if (bytes === 0) return '0 Bytes'\n\n  const k = 1024\n  const dm = decimals < 0 ? 0 : decimals\n  const sizes = [\n    'Bytes',\n    'KB',\n    'MB',\n    'GB',\n    'TB',\n    'PB',\n    'EB',\n    'ZB',\n    'YB',\n  ]\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n\n  return (\n    parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i]\n  )\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  color: PropTypes.string,\n  pill: PropTypes.bool,\n  tag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func, PropTypes.string]),\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  color: 'secondary',\n  pill: false,\n  tag: 'span'\n};\n\nvar Badge = function Badge(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      color = props.color,\n      innerRef = props.innerRef,\n      pill = props.pill,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"color\", \"innerRef\", \"pill\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'badge', 'badge-' + color, pill ? 'badge-pill' : false), cssModule);\n\n  if (attributes.href && Tag === 'span') {\n    Tag = 'a';\n  }\n\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nBadge.propTypes = propTypes;\nBadge.defaultProps = defaultProps;\nexport default Badge;","// @flow\nimport * as React from 'react'\nimport {\n  useStoreDispatch,\n  useStoreState,\n  Dispatch,\n  Action,\n} from 'easy-peasy'\nimport {Table, Container, Badge, Spinner} from 'reactstrap'\n\nimport formatBytes from '../utils'\n\nexport default function Images(): React.Node {\n  const dispatch: Dispatch<{}, Action<any>> = useStoreDispatch()\n  const state = useStoreState(state => state.images.defaultState)\n\n  React.useEffect(() => {\n    dispatch.images.getImages()\n  }, [dispatch])\n\n  if (state.loading) return <Spinner style={{width: '3rem', height: '3rem'}} />\n\n  return (\n    <Container>\n      {state.images && <ImageTable images={state.images} />}\n    </Container>\n  )\n}\n\nfunction ImageTable({images}): React.Node {\n  return (\n    <Table responsive>\n      <thead>\n        <tr>\n          <th>Repo Tags</th>\n          <th>Created</th>\n          <th>Size</th>\n          <th>Virtual Size</th>\n        </tr>\n      </thead>\n      <tbody>\n        {images &&\n          images.map(image => (\n            <tr key={image.Id}>\n              <td>\n                <ImageRepoTags repoTags={image.RepoTags[0]} />\n              </td>\n              <td>{new Date(image.Created).toDateString()}</td>\n              <td>{formatBytes(image.Size)}</td>\n              <td>{formatBytes(image.VirtualSize)}</td>\n            </tr>\n          ))}\n      </tbody>\n    </Table>\n  )\n}\n\ntype ImageRepoTagsProps = {\n  repoTags: string,\n}\n\nfunction ImageRepoTags({repoTags}: ImageRepoTagsProps): React.Node {\n  const splitingRepoByTags = repoTags.split(':')\n  const imageName = splitingRepoByTags[0]\n  const tags = splitingRepoByTags[1]\n\n  return (\n    <React.Fragment>\n      {imageName} <Badge>{tags}</Badge>\n    </React.Fragment>\n  )\n}\n"],"sourceRoot":""}